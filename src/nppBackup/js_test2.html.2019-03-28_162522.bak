

<body>
	<script>

	document.addEventListener('DOMContentLoaded',  function appendChildren(decorateDivFunction) {
	  var allDivs = document.getElementsByTagName("div");

	  for (var i = 0; i < allDivs.length; i++) {
		var newDiv = document.createElement("div");
		decorateDivFunction(newDiv);
		allDivs[i].appendChild(newDiv);
		break;
	  }
	}

	function decorateDivFunction(newDiv){
		debugger;
	} , false);

	</script>

	<div id="a">
	  <div id="b">
			b
	  </div>
		a
	</div>

</body>
